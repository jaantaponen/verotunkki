(this.webpackJsonpverohommeli=this.webpackJsonpverohommeli||[]).push([[0],{156:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(42),i=a.n(r),c=a(233),o=a(119),s=a(118),u=a.n(s),l=a(1),d=function(t){var e=t.zoneHeight,a=t.handleFiles;return Object(l.jsx)(c.a,{sx:{pt:4,pb:3,width:"100%","& .MuiDropzoneArea-textContainer":{color:"black"},"& .MuiDropzoneArea-text":{paddingTop:e>200?8:4,fontSize:20},"& .MuiDropzoneArea-root":{height:e}},children:Object(l.jsx)(o.a,{acceptedFiles:["text/x-csv","text/plain","application/vnd.ms-excel"],onAdd:a,onDelete:function(t){return console.log("Removed File:",t)},onAlert:function(t,e){console.log("".concat(e,": ").concat(t))},Icon:u.a,dropzoneText:e>200?"Pudota CSV-tiedostoja t\xe4h\xe4n":"Pudota lis\xe4\xe4 CSV-tiedostoja t\xe4h\xe4n",fileObjects:[]})})},p=a(224),b=a(165),j=a(15),m=a(234),f=a(235),h=a(238),O=a(232),v=a(223),x=function(){return Object(l.jsxs)(v.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:1,width:"sm",sx:{pt:2},children:[Object(l.jsx)(O.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:4},children:"Tarkista tiedot aina itse virheiden varalta."}),Object(l.jsx)(O.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:0},children:"Oleta, ett\xe4 t\xe4m\xe4n sivuston tekij\xe4t eiv\xe4t tied\xe4 mit\xe4\xe4n veroista."}),Object(l.jsx)(O.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:0},children:"Sivustolle l\xe4hett\xe4mi\xe4si tiedostoja k\xe4sitell\xe4\xe4n vain paikallisesti selaimessasi."}),Object(l.jsxs)(O.a,{variant:"body2",sx:{pt:2},color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(l.jsx)(h.a,{color:"inherit",href:"https://verotunkki.fi/",children:"Verotunkki"})," ",(new Date).getFullYear(),"."]})]})},y=a(120),k=a(246),g=a(239),S=function(){var t=Object(j.f)(),e=Object(y.a)({typography:{fontSize:14}});return Object(l.jsxs)(k.a,{theme:e,children:[Object(l.jsx)(b.a,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),Object(l.jsx)(p.a,{}),Object(l.jsxs)(c.a,{component:"main",maxWidth:"sm",sx:{pt:8,pb:4},children:[Object(l.jsxs)(v.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:6,width:"sm",children:[Object(l.jsx)(O.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",gutterBottom:!0,sx:{fontWeight:"bold",pt:8},children:"VEROTUNKKI"}),Object(l.jsx)(O.a,{alignSelf:"center",align:"center",variant:"h6",sx:{pt:3},component:"p",children:"Verotunkki laskee puolestasi luovutusvoitot ja -tappiot, ja ulostaa verottajayhteensopivan rapsan. Hyv\xe4 el\xe4m\xe4 vittu"}),Object(l.jsx)(O.a,{alignSelf:"center",variant:"h6",component:"p",sx:{pt:2},children:"Valitse verotettavan tulon tyyppi:"}),Object(l.jsx)(m.a,{sx:{width:450},onClick:function(){t("/crypto")},children:Object(l.jsx)(g.a,{children:Object(l.jsxs)(f.a,{children:[Object(l.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Virtuaalivaluutat"}),Object(l.jsx)(O.a,{variant:"body2",color:"text.secondary",children:"Perus hyv\xe4 Ethereum."}),Object(l.jsxs)(O.a,{variant:"body2",color:"text.secondary",children:["Tuetut l\xe4hteet: ",Object(l.jsx)("b",{children:"Coinbase, Coinbase Pro"})]})]})})}),Object(l.jsx)(m.a,{sx:{width:450},onClick:function(){t("/securities")},children:Object(l.jsx)(g.a,{children:Object(l.jsxs)(f.a,{children:[Object(l.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Arvopaperit"}),Object(l.jsx)(O.a,{variant:"body2",color:"text.secondary",children:"Osakkeet ETF:t, rahastot ja muut arvopaperit."}),Object(l.jsxs)(O.a,{variant:"body2",color:"text.secondary",children:["Tuetut l\xe4hteet: ",Object(l.jsx)("b",{children:"Degiro, Nordnet"})]})]})})})]}),Object(l.jsx)(x,{})]})]})},T=a(14),C=a(27),w=a(17),F=a(13),I=a(16),E=a.n(I),N=a(227),P=a(231),K=a(79),A={"P\xe4iv\xe4ys":"date",Aika:"time",Tuote:"security",ISIN:"ISIN",Reference:"reference",Venue:"venue",Quantity:"quantity",Kurssi:"rate","Kurssi-valuutta":"rateCurrency","Markkina-arvo":"marketValue","Markkina-arvo-valuutta":"marketValueCurrency",Value:"value","Value-valuutta":"valueCurrency",Vaihtokurssi:"exchangeRate","Transaction costs":"transactionCosts","Transaction costs-valuutta":"transactionCostsCurrency",Kokonaissumma:"totalAmount","Kokonaissumma-valuutta":"totalAmountCurrency","Order ID":"orderId"},B=function(t){if(A[t])return A[t]},V=a(46),W=a.n(V),L=(a(152),["portfolio","tradeid","product","side","createdat","size","sizeunit","price","fee","total","pricefeetotalunit"]),D=["Timestamp","TransactionType","Asset","QuantityTransacted","SpotPriceCurrency","SpotPriceatTransaction","Subtotal","Total","Fees","Notes"],U=["date","time","security","ISIN","reference","venue","quantity","rate","rateCurrency","marketValue","marketValueCurrency","value","valueCurrency","exchangeRate","transactionCosts","transactionCostsCurrency","totalAmount","totalAmountCurrency","orderId","datetime"],M=["Id","Kirjauspaiva","Kauppapaiva","Maksupaiva","Salkku","Tapahtumatyyppi","Arvopaperi","Instrumenttityyppi","ISIN","Maara","Kurssi","Korko","Kokonaiskulut","KokonaiskulutValuutta","Summa","Valuutta","Hankintaarvo","Tulos","Kokonaismaara","Saldo","Vaihtokurssi","Tapahtumateksti","Mitatointipaiva","Laskelma","Vahvistusnumero","Valityspalkkio","ValityspalkkioValuutta"],R=a(20),Y=a.n(R),z=function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(t.charCodeAt(a)|t.charCodeAt(a+1)<<8);return String.fromCharCode.apply(String,e)},H=function(){var t=Object(C.a)(E.a.mark((function t(e,a){var n,r,i,c,o,s,u;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=0;case 2:if(!(i<a.length)){t.next=19;break}return t.prev=3,c=e[0].data?e[0].data.toString().split(",")[1]:"",o="parseNordNetCSV"===a[i].name?z(atob(c)):(l=c,decodeURIComponent(escape(window.atob(l)))),s=o.toString(),t.next=9,a[i](s);case 9:return u=t.sent,t.abrupt("return",u);case 13:t.prev=13,t.t0=t.catch(3),r.push(t.t0);case 16:i++,t.next=2;break;case 19:return t.abrupt("return",[{Source:"Error",Error:null!==(n=r.find((function(t){return t instanceof TypeError})))&&void 0!==n?n:r[0]}]);case 20:case"end":return t.stop()}var l}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}(),q=function(){var t=Object(C.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=6;break;case 3:t.t0=t.sent.parse,t.next=9;break;case 6:return t.next=8,a.e(3).then(a.bind(null,253));case 8:t.t0=t.sent.parse;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(C.a)(E.a.mark((function t(e){var a,n,r,i,c,o,s,u,l,d,p;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",t.next=3,q();case 3:n=t.sent,r=n(e,{cast:function(t,e){return e.header?""===t?B("".concat(a,"-valuutta")):(a=t,B(t)):String(t)},columns:!0,trim:!0}),i=[],c=!1,o=!1,t.prev=8,u=Object(K.a)(r);case 10:return t.next=12,u.next();case 12:if(!(c=!(l=t.sent).done)){t.next=18;break}d=l.value,i.push(d);case 15:c=!1,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),o=!0,s=t.t0;case 24:if(t.prev=24,t.prev=25,!c||null==u.return){t.next=29;break}return t.next=29,u.return();case 29:if(t.prev=29,!o){t.next=32;break}throw s;case 32:return t.finish(29);case 33:return t.finish(24);case 34:if(p=i.map((function(t){return t.datetime=W()("".concat(t.date,"-").concat(t.time),"DD-MM-YYYY-HH-mm").toDate(),t})),!i.every((function(t){return 0!==Y.a.difference(Y.a.sortBy(U),Y.a.sortBy(Object.keys(t))).length}))){t.next=37;break}throw TypeError("All headers not found in the provided Degiro file.");case 37:return t.abrupt("return",p.map((function(t){return Object(w.a)(Object(w.a)({},t),{},{Source:"Degiro"})})));case 38:case"end":return t.stop()}}),t,null,[[8,20,24,34],[25,,29,33]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(C.a)(E.a.mark((function t(e){var a,n,r,i,c,o,s,u,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q();case 2:a=t.sent,n=a(e,{delimiter:["\t"],columns:!0,trim:!0,cast:function(t,e){if(e.header){var a=t;return a.includes("\xe4")&&(a=a.replace(/\xe4/g,"a")),a.includes("\xf6")&&(a=a.replace(/\xf6/g,"o")),a.includes("-")&&(a=a.replace(/-/g,"")),a.replace(/\s/g,"")}var n=e.column;return"Maara"===n||"Kurssi"===n||"Valityspalkkio"===n||"Summa"===n||"Kokonaiskulut"===n||"Kokonaismaara"===n?Number.parseFloat(t.replace(/,/g,".")):"Kirjauspaiva"===n||"Kauppapaiva"===n||"Maksupaiva"===n?W()(t,"YYYY-MM-DD").toDate():String(t)}}),r=[],i=!1,c=!1,t.prev=7,s=Object(K.a)(n);case 9:return t.next=11,s.next();case 11:if(!(i=!(u=t.sent).done)){t.next=17;break}l=u.value,r.push(l);case 14:i=!1,t.next=9;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),c=!0,o=t.t0;case 23:if(t.prev=23,t.prev=24,!i||null==s.return){t.next=28;break}return t.next=28,s.return();case 28:if(t.prev=28,!c){t.next=31;break}throw o;case 31:return t.finish(28);case 32:return t.finish(23);case 33:if(!r.every((function(t){return 0!==Y.a.difference(M,Y.a.sortBy(Object.keys(t))).length}))){t.next=35;break}throw TypeError("All headers not found in the provided Nordnet file.");case 35:return t.abrupt("return",r.map((function(t){return Object(w.a)(Object(w.a)({},t),{},{Source:"Nordnet"})})));case 36:case"end":return t.stop()}}),t,null,[[7,19,23,33],[24,,28,32]])})));return function(e){return t.apply(this,arguments)}}(),Z=function(t){return t.map((function(t){return{paivays:t.Kauppapaiva.toUTCString(),tuote:t.Arvopaperi,isin:t.ISIN,arvo:"".concat(t.Summa," ").concat(t.Valuutta),maara:t.Maara,kulut:t.Kokonaiskulut,kurssi:"".concat(t.Kurssi," ").concat(t.Valuutta),kokonaissumma:"".concat(t.Summa-t.Kokonaiskulut," ").concat(t.Valuutta)}}))},J=function(){var t=Object(C.a)(E.a.mark((function t(e){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Y.a.findIndex(null===e||void 0===e?void 0:e.split("\n"),(function(t){return null===t||void 0===t?void 0:t.startsWith("Timestamp,Transaction")})),t.next=3,q();case 3:if(n=t.sent,!(null!==(r=n(e,{cast:function(t,e){return e.header?t.includes("(")?t.split("(")[0].replace(/\s/g,""):t.replace(/\s/g,""):(W.a.tz,"Timestamp"===e.column?W()(t,"YYYY-MM-DD-HH-mm").tz("Europe/Helsinki").toDate():"TransactionType"===e.column?t.toUpperCase():String(t))},columns:!0,from_line:a>0?a+1:1,trim:!0}))&&void 0!==r?r:[]).every((function(t){return 0!==Y.a.difference(D,Y.a.sortBy(Object.keys(t))).length}))){t.next=7;break}throw TypeError("All headers not found in the provided Coinbase file.");case 7:return t.abrupt("return",r.map((function(t){return Object(w.a)(Object(w.a)({},t),{},{Source:"Coinbase"})})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(C.a)(E.a.mark((function t(e){var a,n,r,i,c,o,s,u,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q();case 2:a=t.sent,n=a(e,{cast:function(t,e){return e.header?t.includes("/")?t.replace(/\//g,"").replace(/\s/g,""):t.replace(/\s/g,""):"createdat"===e.column?new Date(t):String(t)},columns:!0,trim:!0}),r=[],i=!1,c=!1,t.prev=7,s=Object(K.a)(n);case 9:return t.next=11,s.next();case 11:if(!(i=!(u=t.sent).done)){t.next=17;break}l=u.value,r.push(l);case 14:i=!1,t.next=9;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),c=!0,o=t.t0;case 23:if(t.prev=23,t.prev=24,!i||null==s.return){t.next=28;break}return t.next=28,s.return();case 28:if(t.prev=28,!c){t.next=31;break}throw o;case 31:return t.finish(28);case 32:return t.finish(23);case 33:if(!r.every((function(t){return 0!==Y.a.difference(Y.a.sortBy(L),Y.a.sortBy(Object.keys(t))).length}))){t.next=35;break}throw TypeError("All headers not found in the provided Coinbase Pro file.");case 35:return t.abrupt("return",r.map((function(t){return Object(w.a)(Object(w.a)({},t),{},{Source:"CoinbasePro",product:t.product.split("-")[0],Error:"EUR"!==t.pricefeetotalunit?"Invalid currency detected":void 0})})));case 36:case"end":return t.stop()}}),t,null,[[7,19,23,33],[24,,28,32]])})));return function(e){return t.apply(this,arguments)}}(),X=function(t){return t.map((function(t){var e,a;return{paivays:t.createdat.toLocaleString("en-GB",{timeZone:"UTC"}),tuote:t.product,arvo:"".concat(t.size*t.price," ").concat(t.pricefeetotalunit),maara:t.size,kulut:"".concat(Number(null!==(e=t.fee)&&void 0!==e?e:0).toFixed(2)," ").concat(t.pricefeetotalunit),kurssi:"".concat(t.price," ").concat(t.pricefeetotalunit),kokonaissumma:"".concat(Number(null!==(a=t.total)&&void 0!==a?a:0).toFixed(2)," ").concat(t.pricefeetotalunit),operaatio:t.side}}))},$=a(236),tt=a(240),et=a(241),at=a(242),nt=a(243),rt=a(244),it=a(245),ct=a(225),ot=[{id:"ticker",label:"Tuote",minWidth:120},{id:"buydate",label:"Hankintap\xe4iv\xe4",minWidth:150},{id:"selldate",label:"Luovutusp\xe4iv\xe4",minWidth:150},{id:"amountsold",label:"Myyty kpl",minWidth:100,format:function(t){return t.toFixed(8)}},{id:"transferPrice",label:"Luovutushinta",minWidth:120},{id:"acquisitionPrice",label:"Hankintahinta",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"acquisitionFee",label:"Hankintakulut",minWidth:100},{id:"transferFee",label:"Luovutuskulut",minWidth:80},{id:"profitOrLoss",label:"Voitto/Tappio",minWidth:170,format:function(t){return t.toFixed(3)}}],st=[{id:"paivays",label:"Paivays",minWidth:150},{id:"tuote",label:"Tuote",minWidth:200},{id:"isin",label:"ISIN",minWidth:170},{id:"maara",label:"Maara",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"kurssi",label:"Kurssi",minWidth:120},{id:"arvo",label:"Arvo",minWidth:100},{id:"kulut",label:"Kulut",minWidth:100},{id:"kokonaissumma",label:"Kokonaissumma",minWidth:170}],ut=[{id:"paivays",label:"Paivays",minWidth:150},{id:"operaatio",label:"Operaatio",minWidth:100},{id:"tuote",label:"Tuote",minWidth:100},{id:"arvo",label:"Arvo",minWidth:100},{id:"maara",label:"M\xe4\xe4r\xe4",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"kurssi",label:"Kurssi",minWidth:120},{id:"kulut",label:"Kulut",minWidth:110,format:function(t){return t.toFixed(4)}},{id:"kokonaissumma",label:"Kokonaissumma",minWidth:170}],lt=function(t){var e=t.rows,a=t.mode,r=Object(n.useState)(0),i=Object(F.a)(r,2),c=i[0],o=i[1],s=Object(n.useState)(10),u=Object(F.a)(s,2),d=u[0],p=u[1],b=[];"Security"===a?b=st:"Crypto"===a?b=ut:"Result"===a&&(b=ot);return Object(n.useEffect)((function(){window.scrollTo(0,250)}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)($.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(l.jsx)(tt.a,{sx:{maxHeight:1400},children:Object(l.jsxs)(et.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(l.jsx)(at.a,{children:Object(l.jsx)(nt.a,{children:b.map((function(t){return Object(l.jsx)(rt.a,{align:t.align,style:{minWidth:t.minWidth},children:t.label},t.id)}))})}),Object(l.jsx)(it.a,{children:e.slice(c*d,c*d+d).map((function(t,e){return Object(l.jsx)(nt.a,{hover:!0,role:"checkbox",tabIndex:-1,children:b.map((function(e){var a=t[e.id];return Object(l.jsx)(rt.a,{align:e.align,children:e.format&&"number"===typeof a?e.format(a):a},e.id)}))},e)}))})]})}),Object(l.jsx)(ct.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.length,rowsPerPage:d,page:c,onPageChange:function(t,e){o(e)},onRowsPerPageChange:function(t){p(+t.target.value),o(0)}})]})})},dt=a(50),pt=a.n(dt),bt=a(76),jt=a.n(bt);var mt=function(t){var e=function(t){var e=t.map((function(t){return Object(w.a)({},t)}));return e.filter((function(t){return"SELL"===t.type})).reduce((function(t,a){return[].concat(Object(T.a)(t),[ft(e,a)])}),[])}(t).flatMap((function(t){var e,a=Y.a.sumBy(t.transactions,(function(t){return t.amountsold})),n=t.transactions.map((function(t){return Object(w.a)(Object(w.a)({},t),{},{transferFee:t.amountsold/a*t.transferFee})})),r=t.transactions[0]?t.transactions[0].transferFee:0,i=Y.a.sumBy(n,(function(t){return t.transferFee}));r!==i&&console.error("Amount of fees for do not match for ".concat(null===(e=t.transactions[0])||void 0===e?void 0:e.ticker,": ").concat(r," and ").concat(i));return n}));return e},ft=function(t,e){var a=0,n=[],r=t.filter((function(t){var a=t.type,n=t.symbol,r=t.date;return"BUY"===a&&n===e.symbol&&r<e.date}));if(Y.a.orderBy(r,(function(t){return t.date}),"asc").forEach((function(t){var r=Math.min(e.amount,t.amount);if(0!==r){var i={ticker:e.symbol,buydate:t.date,selldate:e.date,amountsold:r,transferPrice:e.price,profitOrLoss:r*(e.price-t.price),acquisitionPrice:t.price,acquisitionFee:t.transactionFee,transferFee:e.transactionFee};n.push(i),t.amount-=r,e.amount-=r;var c=r*(e.price-t.price);a+=c}})),Math.round(e.amount)>0)throw Error("Amount of sales for ticker ".concat(e.symbol," exceeds the amount of buys by ").concat(e.amount,". In transaction made in ").concat(new Date(e.date).toLocaleString("en-GB",{timeZone:"UTC"})));return{capitalGainPerSellDate:a,transactions:n}},ht=[Q,G],Ot=function(){var t=Object(n.useState)(400),e=Object(F.a)(t,2),a=e[0],r=e[1],i=Object(n.useState)([]),o=Object(F.a)(i,2),s=o[0],u=o[1],j=Object(n.useState)(!1),m=Object(F.a)(j,2),f=m[0],h=m[1],g=Object(n.useState)([]),S=Object(F.a)(g,2),I=S[0],K=S[1],A=Object(n.useState)([]),B=Object(F.a)(A,2),V=B[0],W=B[1],L=Object(n.useState)(),D=Object(F.a)(L,2),U=D[0],M=D[1],R=Object(n.useState)([]),z=Object(F.a)(R,2),q=z[0],Q=z[1],G=Object(n.useState)(""),J=Object(F.a)(G,2),_=J[0],X=(J[1],Object(n.useState)("")),$=Object(F.a)(X,2),tt=$[0],et=$[1],at=Object(n.useState)(0),nt=Object(F.a)(at,2),rt=nt[0],it=nt[1],ct=Object(y.a)({typography:{fontSize:14}});return Object(n.useEffect)((function(){Object(C.a)(E.a.mark((function t(){var e,a,n,i,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length>0)){t.next=8;break}return r(200),h(!0),t.next=5,H(s,ht);case 5:a=t.sent,"Degiro"===(n=null===(e=a[0])||void 0===e?void 0:e.Source)?(M("Degiro"),i=a.map((function(t){return{paivays:t.datetime.toUTCString(),tuote:t.security,isin:t.ISIN,arvo:"".concat(t.value," ").concat(t.valueCurrency),maara:t.quantity,kulut:t.transactionCosts,kurssi:"".concat(t.rate," ").concat(t.rateCurrency),kokonaissumma:"".concat(t.totalAmount," ").concat(t.totalAmountCurrency)}})),K([].concat(Object(T.a)(I),Object(T.a)(a))),Q([].concat(Object(T.a)(q),Object(T.a)(i))),r(200),h(!0)):"Nordnet"===n&&(M("Nordnet"),c=Z(a),K([].concat(Object(T.a)(I),Object(T.a)(a))),Q([].concat(Object(T.a)(q),Object(T.a)(c))),r(200),h(!0));case 8:case"end":return t.stop()}}),t)})))()}),[s]),Object(l.jsxs)(k.a,{theme:ct,children:[Object(l.jsx)(b.a,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),Object(l.jsx)(p.a,{}),Object(l.jsxs)(c.a,{component:"main",sx:{pt:8,pb:4},children:[Object(l.jsxs)(v.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,width:"sm",children:[Object(l.jsx)(O.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",gutterBottom:!0,sx:{fontWeight:"bold",pt:8},children:"VEROTUNKKI"}),Object(l.jsx)(O.a,{alignSelf:"center",align:"center",variant:"h6",sx:{pt:0},component:"p",children:"Arvopaperit"}),_&&Object(l.jsx)(N.a,{severity:"error",children:_}),Object(l.jsx)(d,{zoneHeight:a,handleFiles:function(t){return u(t)}}),Object(l.jsx)(O.a,{alignSelf:"flex-start",sx:{pl:4},component:"p",children:"Tuetut l\xe4hteet: Nordnet, Degiro"}),tt&&Object(l.jsx)(N.a,{severity:"error",children:tt}),f&&Object(l.jsxs)(v.a,{direction:"row",spacing:2,children:[Object(l.jsx)(P.a,{variant:"outlined",onClick:function(){u([]),Q([]),K([]),h(!1),r(400)},startIcon:Object(l.jsx)(pt.a,{}),children:"Poistha"}),Object(l.jsx)(P.a,{disabled:V.length>0,onClick:function(){var t=[];try{"Degiro"===U?t=mt(function(t){return t.map((function(t){return{symbol:t.security,date:t.datetime,price:t.rate,amount:t.quantity,type:t.quantity>0?"BUY":"SELL",transactionFee:Math.max(t.transactionCosts)}}))}(I)):"Nordnet"===U&&(t=mt(function(t){return t.filter((function(t){return"MYYNTI"===t.Tapahtumatyyppi||"OSTO"===t.Tapahtumatyyppi})).map((function(t){return{symbol:t.Arvopaperi,date:t.Kauppapaiva,price:t.Kurssi,amount:t.Maara,type:"OSTO"===t.Tapahtumatyyppi?"BUY":"SELL",transactionFee:t.Kokonaiskulut}}))}(I))),console.log("maol",t),W(Y.a.sortBy(t,(function(t){return t.selldate})).map((function(t){return Object(w.a)(Object(w.a)({},t),{},{buydate:t.buydate.toISOString().substring(0,16),selldate:t.selldate.toISOString().substring(0,16),transferFee:"".concat(Number(t.transferFee).toFixed(4)," EUR"),profitOrLoss:"".concat(t.profitOrLoss.toFixed(3)," EUR")})}))),it(Y.a.sumBy(t,(function(t){return t.profitOrLoss})))}catch(e){et(e.message)}},variant:"contained",endIcon:Object(l.jsx)(jt.a,{}),children:"Laske"})]}),f&&0===V.length&&Object(l.jsx)(lt,{mode:"Security",rows:q}),f&&V.length>0&&Object(l.jsxs)("div",{children:[Object(l.jsx)(lt,{mode:"Result",rows:V}),Object(l.jsxs)("p",{children:["Total naurut: ",rt.toFixed(2)," EUR"]})]})]}),Object(l.jsx)(x,{})]})]})},vt=a(88),xt=[J,_],yt=function(){var t=Object(n.useState)(400),e=Object(F.a)(t,2),a=e[0],r=e[1],i=Object(n.useState)([]),o=Object(F.a)(i,2),s=o[0],u=o[1],j=Object(n.useState)(!1),m=Object(F.a)(j,2),f=m[0],h=m[1],g=Object(n.useState)([]),S=Object(F.a)(g,2),I=S[0],K=S[1],A=Object(n.useState)({}),B=Object(F.a)(A,2),V=B[0],W=B[1],L=Object(n.useState)([]),D=Object(F.a)(L,2),U=D[0],M=D[1],R=Object(n.useState)(""),z=Object(F.a)(R,2),q=z[0],Q=z[1],G=Object(n.useState)(""),Z=Object(F.a)(G,2),J=Z[0],_=Z[1],$=Object(n.useState)(0),tt=Object(F.a)($,2),et=tt[0],at=tt[1],nt=Object(y.a)({typography:{fontSize:14}});return Object(n.useEffect)((function(){Object(C.a)(E.a.mark((function t(){var e,a,n,i,c,o,l,d,p;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length>0)){t.next=7;break}return t.next=3,H(s,xt);case 3:a=t.sent,"Error"===(n=null===(e=a[0])||void 0===e?void 0:e.Source)?(i=a[0].Error.message,Q("malformed URI sequence"===i?"Unable to parse file, is it encoded in a weird format?":a[0].Error.message)):"Coinbase"===n?(c=a.map((function(t){var e,a="".concat(t.Subtotal?Number(t.Subtotal).toFixed(2):(t.QuantityTransacted*t.SpotPriceatTransaction).toFixed(2)," ").concat(t.SpotPriceCurrency);return{paivays:new Date(t.Timestamp).toLocaleString("en-GB",{timeZone:"UTC"}),tuote:t.Asset,arvo:a,maara:t.QuantityTransacted,kulut:"".concat(Number(null!==(e=t.Fees)&&void 0!==e?e:0).toFixed(2)," ").concat(t.SpotPriceCurrency),kurssi:"".concat(t.SpotPriceatTransaction," ").concat(t.SpotPriceCurrency),kokonaissumma:"".concat(Number(t.Total?t.Total:0).toFixed(2)," ").concat(t.SpotPriceCurrency),operaatio:t.TransactionType}})),o=Object(w.a)({},V),W(Object(w.a)(Object(w.a)({},V),{},{Coinbase:[].concat(Object(T.a)(null!==o&&void 0!==o&&o.Coinbase?o.Coinbase:[]),Object(T.a)(a))})),K(Y.a.sortBy([].concat(Object(T.a)(I),Object(T.a)(c)),(function(t){return t.paivays}))),r(200),h(!0)):"CoinbasePro"===n&&((l=a.find((function(t){return"Invalid currency detected"===(null===t||void 0===t?void 0:t.Error)})))&&Q("".concat(l.Error," In trancactions made in ").concat(l.createdat.toLocaleString("en-GB",{timeZone:"UTC"}),".")),d=X(a),p=Object(w.a)({},V),W(Object(w.a)(Object(w.a)({},V),{},{CoinbasePro:[].concat(Object(T.a)(null!==p&&void 0!==p&&p.CoinbasePro?p.CoinbasePro:[]),Object(T.a)(a))})),K(Y.a.sortBy([].concat(Object(T.a)(I),Object(T.a)(d)),(function(t){return t.paivays}))),r(200),h(!0)),u([]);case 7:case"end":return t.stop()}}),t)})))()}),[s]),Object(n.useEffect)((function(){console.log("rows parsed into rawdata",V)}),[V]),Object(l.jsxs)(k.a,{theme:nt,children:[Object(l.jsx)(b.a,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),Object(l.jsx)(p.a,{}),Object(l.jsxs)(c.a,{component:"main",sx:{pt:8,pb:4},children:[Object(l.jsxs)(v.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,width:"sm",children:[Object(l.jsx)(O.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",gutterBottom:!0,sx:{fontWeight:"bold",pt:8},children:"VEROTUNKKI"}),Object(l.jsx)(O.a,{alignSelf:"center",align:"center",variant:"h6",sx:{pt:0},component:"p",children:"Virtuaalivaluutat"}),q&&Object(l.jsx)(N.a,{severity:"error",children:q}),Object(l.jsx)(d,{zoneHeight:a,handleFiles:function(t){return u([].concat(Object(T.a)(s),Object(T.a)(t)))}}),Object(l.jsx)(O.a,{alignSelf:"flex-start",sx:{pl:4},component:"p",children:"Tuetut l\xe4hteet: Coinbase, Coinbase Pro"}),J&&Object(l.jsx)(N.a,{severity:"error",children:J}),f&&Object(l.jsxs)(v.a,{direction:"row",spacing:2,children:[Object(l.jsx)(P.a,{variant:"outlined",onClick:function(){u([]),K([]),W({}),h(!1),r(400)},startIcon:Object(l.jsx)(pt.a,{}),children:"Poistha"}),Object(l.jsx)(P.a,{disabled:U.length>0,onClick:function(){var t=[];try{null!==V&&void 0!==V&&V.Coinbase&&(t.push.apply(t,Object(T.a)(function(t){var e=[];return t.forEach((function(t){if("CONVERT"===t.TransactionType){var a=t.Notes.split(" "),n=Number(a[4]),r=a[5];e.push(Object(w.a)(Object(w.a)({},t),{},{TransactionType:"SELL",Fees:0,Total:t.Total-t.Fees})),e.push(Object(w.a)(Object(w.a)({},t),{},{TransactionType:"BUY",Asset:r,QuantityTransacted:n,SpotPriceatTransaction:t.Subtotal/n}))}else("COINBASE EARN"===t.TransactionType||"RECEIVE"===t.TransactionType)&&e.push(Object(w.a)(Object(w.a)({},t),{},{TransactionType:"BUY"}))})),t.concat(e).filter((function(t){return"BUY"===t.TransactionType||"SELL"===t.TransactionType})).map((function(t){var e;return{symbol:t.Asset,date:new Date(t.Timestamp),price:Number(t.SpotPriceatTransaction),amount:Number(t.QuantityTransacted),type:t.TransactionType,transactionFee:Number(null!==(e=t.Fees)&&void 0!==e?e:0)}}))}(V.Coinbase))),console.log("added1")),null!==V&&void 0!==V&&V.CoinbasePro&&(console.log("added2"),t.push.apply(t,Object(T.a)(function(t){return t.filter((function(t){return"BUY"===t.side||"SELL"===t.side})).map((function(t){return{symbol:t.product,date:new Date(t.createdat),price:Number(t.price),amount:Number(t.size),type:t.side,transactionFee:Number(t.fee)}}))}(V.CoinbasePro)))),console.log(t.filter((function(t){return"LINK"===t.symbol})));var e=mt(t);M(Y.a.sortBy(e,(function(t){return t.selldate})).map((function(t){return Object(w.a)(Object(w.a)({},t),{},{buydate:new Date(t.buydate).toISOString().substring(0,16),selldate:new Date(t.selldate).toISOString().substring(0,16),transferFee:"".concat(Number(t.transferFee).toFixed(4)," EUR"),profitOrLoss:"".concat(t.profitOrLoss.toFixed(3)," EUR")})}))),at(Y.a.sumBy(e,(function(t){return t.profitOrLoss})))}catch(a){_(a.message)}},variant:"contained",endIcon:Object(l.jsx)(jt.a,{}),children:"Laske"})]}),f&&0===U.length&&Object(l.jsx)(lt,{mode:"Crypto",rows:I}),U.length>0&&Object(l.jsxs)("div",{children:[Object(l.jsx)(lt,{mode:"Result",rows:U}),Object(l.jsxs)("p",{children:["Total naurut: ",et.toFixed(2)," EUR"]})]})]}),Object(l.jsx)(x,{})]})]})};i.a.render(Object(l.jsx)(vt.a,{basename:"",children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/",element:Object(l.jsx)(S,{})}),Object(l.jsx)(j.a,{path:"maol",element:Object(l.jsx)(d,{handleFiles:function(){return console.log("hyv\xe4 el\xe4m\xe4")},zoneHeight:400})}),Object(l.jsx)(j.a,{path:"securities",element:Object(l.jsx)(Ot,{})}),Object(l.jsx)(j.a,{path:"crypto",element:Object(l.jsx)(yt,{})})]})}),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.8c97cf6e.chunk.js.map