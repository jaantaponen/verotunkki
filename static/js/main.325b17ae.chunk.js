(this.webpackJsonpverohommeli=this.webpackJsonpverohommeli||[]).push([[0],{156:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(42),i=a.n(r),o=a(220),c=a(161),s=a(233),u=a(15),l=a(234),d=a(235),p=a(236),b=a(232),m=a(214),j=a(2),f=function(){return Object(j.jsxs)(m.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:1,width:"sm",sx:{pt:2},children:[Object(j.jsx)(b.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:4},children:"Tarkista tiedot aina itse virheiden varalta."}),Object(j.jsx)(b.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:0},children:"Oleta, ett\xe4 t\xe4m\xe4n sivuston tekij\xe4t eiv\xe4t tied\xe4 mit\xe4\xe4n veroista."}),Object(j.jsx)(b.a,{alignSelf:"center",align:"center",component:"p",sx:{pt:0},children:"Sivustolle l\xe4hett\xe4mi\xe4si tiedostoja k\xe4sitell\xe4\xe4n vain paikallisesti selaimessasi."}),Object(j.jsxs)(b.a,{variant:"body2",sx:{pt:2},color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(j.jsx)(p.a,{color:"inherit",href:"https://verotunkki.fi/",children:"Verotunkki"})," ",(new Date).getFullYear(),"."]})]})},h=a(119),v=a(246),O=a(238),x=function(){var t=Object(u.f)(),e=Object(h.a)({typography:{fontSize:14}});return Object(j.jsxs)(v.a,{theme:e,children:[Object(j.jsx)(c.a,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),Object(j.jsx)(o.a,{}),Object(j.jsxs)(s.a,{component:"main",maxWidth:"sm",sx:{pt:8,pb:4},children:[Object(j.jsxs)(m.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:6,width:"sm",children:[Object(j.jsx)(b.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",gutterBottom:!0,sx:{fontWeight:"bold",pt:8},children:"VEROTUNKKI"}),Object(j.jsx)(b.a,{alignSelf:"center",align:"center",variant:"h6",sx:{pt:3},component:"p",children:"Verotunkki laskee puolestasi luovutusvoitot ja -tappiot, ja ulostaa verottajayhteensopivan rapsan. Hyv\xe4 el\xe4m\xe4 vittu"}),Object(j.jsx)(b.a,{alignSelf:"center",variant:"h6",component:"p",sx:{pt:2},children:"Valitse verotettavan tulon tyyppi:"}),Object(j.jsx)(l.a,{sx:{width:450},onClick:function(){t("/crypto")},children:Object(j.jsx)(O.a,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Virtuaalivaluutat"}),Object(j.jsx)(b.a,{variant:"body2",color:"text.secondary",children:"Perus hyv\xe4 Ethereum."}),Object(j.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:["Tuetut l\xe4hteet: ",Object(j.jsx)("b",{children:"Coinbase, Coinbase Pro"})]})]})})}),Object(j.jsx)(l.a,{sx:{width:450},onClick:function(){t("/securities")},children:Object(j.jsx)(O.a,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"div",children:"Arvopaperit"}),Object(j.jsx)(b.a,{variant:"body2",color:"text.secondary",children:"Osakkeet ETF:t, rahastot ja muut arvopaperit."}),Object(j.jsxs)(b.a,{variant:"body2",color:"text.secondary",children:["Tuetut l\xe4hteet: ",Object(j.jsx)("b",{children:"Degiro, Nordnet"})]})]})})})]}),Object(j.jsx)(f,{})]})]})},y=a(86),k=a(35),g=a(16),T=a(13),S=a(14),C=a(17),w=a.n(C),E=a(20),N=a.n(E),F=a(227),I=a(231),P=a(118),K=a(116),A=a.n(K),B=function(t){var e=t.zoneHeight,a=t.handleFiles;return Object(j.jsx)(s.a,{sx:{pt:4,pb:3,width:"100%","& .MuiDropzoneArea-textContainer":{color:"black"},"& .MuiDropzoneArea-text":{paddingTop:e>200?8:4,fontSize:20},"& .MuiDropzoneArea-root":{height:e}},children:Object(j.jsx)(P.a,{acceptedFiles:["text/x-csv","text/plain","application/vnd.ms-excel"],onAdd:a,onDelete:function(t){return console.log("Removed File:",t)},onAlert:function(t,e){console.log("".concat(e,": ").concat(t))},Icon:A.a,dropzoneText:e>200?"Pudota CSV-tiedostoja t\xe4h\xe4n":"Pudota lis\xe4\xe4 CSV-tiedostoja t\xe4h\xe4n",fileObjects:[]})})},V=a(76),D={"P\xe4iv\xe4ys":"date",Aika:"time",Tuote:"security",ISIN:"ISIN",Reference:"reference",Venue:"venue",Quantity:"quantity",Kurssi:"rate","Kurssi-valuutta":"rateCurrency","Markkina-arvo":"marketValue","Markkina-arvo-valuutta":"marketValueCurrency",Value:"value","Value-valuutta":"valueCurrency",Vaihtokurssi:"exchangeRate","Transaction costs":"transactionCosts","Transaction costs-valuutta":"transactionCostsCurrency",Kokonaissumma:"totalAmount","Kokonaissumma-valuutta":"totalAmountCurrency","Order ID":"orderId"},W=function(t){if(D[t])return D[t]},L=a(46),Y=a.n(L),U=(a(152),["portfolio","tradeid","product","side","createdat","size","sizeunit","price","fee","total","pricefeetotalunit"]),M=["Timestamp","TransactionType","Asset","QuantityTransacted","SpotPriceCurrency","SpotPriceatTransaction","Subtotal","Total","Fees","Notes"],R=["date","time","security","ISIN","reference","venue","quantity","rate","rateCurrency","marketValue","marketValueCurrency","value","valueCurrency","exchangeRate","transactionCosts","transactionCostsCurrency","totalAmount","totalAmountCurrency","orderId","datetime"],z=["Id","Kirjauspaiva","Kauppapaiva","Maksupaiva","Salkku","Tapahtumatyyppi","Arvopaperi","Instrumenttityyppi","ISIN","Maara","Kurssi","Korko","Kokonaiskulut","KokonaiskulutValuutta","Summa","Valuutta","Hankintaarvo","Tulos","Kokonaismaara","Saldo","Vaihtokurssi","Tapahtumateksti","Mitatointipaiva","Laskelma","Vahvistusnumero","Valityspalkkio","ValityspalkkioValuutta"],H=function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(t.charCodeAt(a)|t.charCodeAt(a+1)<<8);return String.fromCharCode.apply(String,e)},q=function(){var t=Object(k.a)(w.a.mark((function t(e,a){var n,r,i,o,c,s,u;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=0;case 2:if(!(i<a.length)){t.next=19;break}return t.prev=3,o=e[0].data?e[0].data.toString().split(",")[1]:"",c="parseNordNetCSV"===a[i].name?H(atob(o)):(l=o,decodeURIComponent(escape(window.atob(l)))),s=c.toString(),t.next=9,a[i](s);case 9:return u=t.sent,t.abrupt("return",u);case 13:t.prev=13,t.t0=t.catch(3),r.push(t.t0);case 16:i++,t.next=2;break;case 19:return t.abrupt("return",[{Source:"Error",Error:null!==(n=r.find((function(t){return t instanceof TypeError})))&&void 0!==n?n:r[0]}]);case 20:case"end":return t.stop()}var l}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}(),G=function(){var t=Object(k.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=6;break;case 3:t.t0=t.sent.parse,t.next=9;break;case 6:return t.next=8,a.e(3).then(a.bind(null,253));case 8:t.t0=t.sent.parse;case 9:return t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(k.a)(w.a.mark((function t(e){var a,n,r,i,o,c,s,u,l,d,p;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="",t.next=3,G();case 3:n=t.sent,r=n(e,{cast:function(t,e){return e.header?""===t?W("".concat(a,"-valuutta")):(a=t,W(t)):String(t)},columns:!0,trim:!0}),i=[],o=!1,c=!1,t.prev=8,u=Object(V.a)(r);case 10:return t.next=12,u.next();case 12:if(!(o=!(l=t.sent).done)){t.next=18;break}d=l.value,i.push(d);case 15:o=!1,t.next=10;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),c=!0,s=t.t0;case 24:if(t.prev=24,t.prev=25,!o||null==u.return){t.next=29;break}return t.next=29,u.return();case 29:if(t.prev=29,!c){t.next=32;break}throw s;case 32:return t.finish(29);case 33:return t.finish(24);case 34:if(p=i.map((function(t){return t.datetime=Y()("".concat(t.date,"-").concat(t.time),"DD-MM-YYYY-HH-mm").toDate(),t})),!i.every((function(t){return 0!==N.a.difference(N.a.sortBy(R),N.a.sortBy(Object.keys(t))).length}))){t.next=37;break}throw TypeError("All headers not found in the provided Degiro file.");case 37:return t.abrupt("return",p.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{Source:"Degiro"})})));case 38:case"end":return t.stop()}}),t,null,[[8,20,24,34],[25,,29,33]])})));return function(e){return t.apply(this,arguments)}}(),Z=function(t){return t.map((function(t){return{paivays:t.datetime.toUTCString(),tuote:t.security,isin:t.ISIN,arvo:"".concat(t.value," ").concat(t.valueCurrency),maara:t.quantity,kulut:t.transactionCosts,kurssi:"".concat(t.rate," ").concat(t.rateCurrency),kokonaissumma:"".concat(t.totalAmount," ").concat(t.totalAmountCurrency)}}))},J=function(){var t=Object(k.a)(w.a.mark((function t(e){var a,n,r,i,o,c,s,u,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:a=t.sent,n=a(e,{delimiter:["\t"],columns:!0,trim:!0,cast:function(t,e){if(e.header){var a=t;return a.includes("\xe4")&&(a=a.replace(/\xe4/g,"a")),a.includes("\xf6")&&(a=a.replace(/\xf6/g,"o")),a.includes("-")&&(a=a.replace(/-/g,"")),a.replace(/\s/g,"")}var n=e.column;return"Maara"===n||"Kurssi"===n||"Valityspalkkio"===n||"Summa"===n||"Kokonaiskulut"===n||"Kokonaismaara"===n?Number.parseFloat(t.replace(/,/g,".")):"Kirjauspaiva"===n||"Kauppapaiva"===n||"Maksupaiva"===n?Y()(t,"YYYY-MM-DD").toDate():String(t)}}),r=[],i=!1,o=!1,t.prev=7,s=Object(V.a)(n);case 9:return t.next=11,s.next();case 11:if(!(i=!(u=t.sent).done)){t.next=17;break}l=u.value,r.push(l);case 14:i=!1,t.next=9;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),o=!0,c=t.t0;case 23:if(t.prev=23,t.prev=24,!i||null==s.return){t.next=28;break}return t.next=28,s.return();case 28:if(t.prev=28,!o){t.next=31;break}throw c;case 31:return t.finish(28);case 32:return t.finish(23);case 33:if(!r.every((function(t){return 0!==N.a.difference(z,N.a.sortBy(Object.keys(t))).length}))){t.next=35;break}throw TypeError("All headers not found in the provided Nordnet file.");case 35:return t.abrupt("return",r.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{Source:"Nordnet"})})));case 36:case"end":return t.stop()}}),t,null,[[7,19,23,33],[24,,28,32]])})));return function(e){return t.apply(this,arguments)}}(),_=function(t){return t.map((function(t){return{paivays:t.Kauppapaiva.toUTCString(),tuote:t.Arvopaperi,isin:t.ISIN,arvo:"".concat(t.Summa," ").concat(t.Valuutta),maara:t.Maara,kulut:t.Kokonaiskulut,kurssi:"".concat(t.Kurssi," ").concat(t.Valuutta),kokonaissumma:"".concat(t.Summa-t.Kokonaiskulut," ").concat(t.Valuutta)}}))},X=function(){var t=Object(k.a)(w.a.mark((function t(e){var a,n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=N.a.findIndex(null===e||void 0===e?void 0:e.split("\n"),(function(t){return null===t||void 0===t?void 0:t.startsWith("Timestamp,Transaction")})),t.next=3,G();case 3:if(n=t.sent,!(null!==(r=n(e,{cast:function(t,e){return e.header?t.includes("(")?t.split("(")[0].replace(/\s/g,""):t.replace(/\s/g,""):(Y.a.tz,"Timestamp"===e.column?Y()(t,"YYYY-MM-DD-HH-mm").tz("Europe/Helsinki").toDate():"TransactionType"===e.column?t.toUpperCase():String(t))},columns:!0,from_line:a>0?a+1:1,trim:!0}))&&void 0!==r?r:[]).every((function(t){return 0!==N.a.difference(M,N.a.sortBy(Object.keys(t))).length}))){t.next=7;break}throw TypeError("All headers not found in the provided Coinbase file.");case 7:return t.abrupt("return",r.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{Source:"Coinbase"})})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),$=function(){var t=Object(k.a)(w.a.mark((function t(e){var a,n,r,i,o,c,s,u,l;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:a=t.sent,n=a(e,{cast:function(t,e){return e.header?t.includes("/")?t.replace(/\//g,"").replace(/\s/g,""):t.replace(/\s/g,""):"createdat"===e.column?new Date(t):String(t)},columns:!0,trim:!0}),r=[],i=!1,o=!1,t.prev=7,s=Object(V.a)(n);case 9:return t.next=11,s.next();case 11:if(!(i=!(u=t.sent).done)){t.next=17;break}l=u.value,r.push(l);case 14:i=!1,t.next=9;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),o=!0,c=t.t0;case 23:if(t.prev=23,t.prev=24,!i||null==s.return){t.next=28;break}return t.next=28,s.return();case 28:if(t.prev=28,!o){t.next=31;break}throw c;case 31:return t.finish(28);case 32:return t.finish(23);case 33:if(!r.every((function(t){return 0!==N.a.difference(N.a.sortBy(U),N.a.sortBy(Object.keys(t))).length}))){t.next=35;break}throw TypeError("All headers not found in the provided Coinbase Pro file.");case 35:return t.abrupt("return",r.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{Source:"CoinbasePro",product:t.product.split("-")[0],Error:"EUR"!==t.pricefeetotalunit?"Invalid currency detected":void 0})})));case 36:case"end":return t.stop()}}),t,null,[[7,19,23,33],[24,,28,32]])})));return function(e){return t.apply(this,arguments)}}(),tt=function(t){return t.map((function(t){var e,a;return{paivays:t.createdat.toLocaleString("en-GB",{timeZone:"UTC"}),tuote:t.product,arvo:"".concat(t.size*t.price," ").concat(t.pricefeetotalunit),maara:t.size,kulut:"".concat(Number(null!==(e=t.fee)&&void 0!==e?e:0).toFixed(2)," ").concat(t.pricefeetotalunit),kurssi:"".concat(t.price," ").concat(t.pricefeetotalunit),kokonaissumma:"".concat(Number(null!==(a=t.total)&&void 0!==a?a:0).toFixed(2)," ").concat(t.pricefeetotalunit),operaatio:t.side}}))},et=a(237),at=a(240),nt=a(241),rt=a(242),it=a(243),ot=a(244),ct=a(245),st=a(225),ut=[{id:"ticker",label:"Tuote",minWidth:120},{id:"buydate",label:"Hankintap\xe4iv\xe4",minWidth:150},{id:"selldate",label:"Luovutusp\xe4iv\xe4",minWidth:150},{id:"amountsold",label:"Myyty kpl",minWidth:100,format:function(t){return t.toFixed(8)}},{id:"transferPrice",label:"Luovutushinta",minWidth:120},{id:"acquisitionPrice",label:"Hankintahinta",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"acquisitionFee",label:"Hankintakulut",minWidth:100},{id:"transferFee",label:"Luovutuskulut",minWidth:80},{id:"profitOrLoss",label:"Voitto/Tappio",minWidth:170,format:function(t){return t.toFixed(3)}}],lt=[{id:"paivays",label:"Paivays",minWidth:150},{id:"tuote",label:"Tuote",minWidth:200},{id:"isin",label:"ISIN",minWidth:170},{id:"maara",label:"Maara",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"kurssi",label:"Kurssi",minWidth:120},{id:"arvo",label:"Arvo",minWidth:100},{id:"kulut",label:"Kulut",minWidth:100},{id:"kokonaissumma",label:"Kokonaissumma",minWidth:170}],dt=[{id:"paivays",label:"Paivays",minWidth:150},{id:"operaatio",label:"Operaatio",minWidth:100},{id:"tuote",label:"Tuote",minWidth:100},{id:"arvo",label:"Arvo",minWidth:100},{id:"maara",label:"M\xe4\xe4r\xe4",minWidth:100,format:function(t){return t.toFixed(2)}},{id:"kurssi",label:"Kurssi",minWidth:120},{id:"kulut",label:"Kulut",minWidth:110,format:function(t){return t.toFixed(4)}},{id:"kokonaissumma",label:"Kokonaissumma",minWidth:170}],pt=function(t){var e=t.rows,a=t.mode,r=Object(n.useState)(0),i=Object(S.a)(r,2),o=i[0],c=i[1],s=Object(n.useState)(10),u=Object(S.a)(s,2),l=u[0],d=u[1],p=[];"SECURITY"===a?p=lt:"CRYPTO"===a?p=dt:"RESULT"===a&&(p=ut);return Object(n.useEffect)((function(){window.scrollTo(0,250)}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(et.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(j.jsx)(at.a,{sx:{maxHeight:1400},children:Object(j.jsxs)(nt.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(j.jsx)(rt.a,{children:Object(j.jsx)(it.a,{children:p.map((function(t){return Object(j.jsx)(ot.a,{align:t.align,style:{minWidth:t.minWidth},children:t.label},t.id)}))})}),Object(j.jsx)(ct.a,{children:e.slice(o*l,o*l+l).map((function(t,e){return Object(j.jsx)(it.a,{hover:!0,role:"checkbox",tabIndex:-1,children:p.map((function(e){var a=t[e.id];return Object(j.jsx)(ot.a,{align:e.align,children:e.format&&"number"===typeof a?e.format(a):a},e.id)}))},e)}))})]})}),Object(j.jsx)(st.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.length,rowsPerPage:l,page:o,onPageChange:function(t,e){c(e)},onRowsPerPageChange:function(t){d(+t.target.value),c(0)}})]})})},bt=a(71),mt=a.n(bt),jt=a(117),ft=a.n(jt);var ht=function(t){var e=function(t){var e=t.map((function(t){return Object(g.a)({},t)}));return e.filter((function(t){return"SELL"===t.type})).reduce((function(t,a){return[].concat(Object(T.a)(t),[vt(e,a)])}),[])}(t).flatMap((function(t){var e,a=N.a.sumBy(t.transactions,(function(t){return t.amountsold})),n=t.transactions.map((function(t){return Object(g.a)(Object(g.a)({},t),{},{transferFee:t.amountsold/a*t.transferFee})})),r=t.transactions[0]?t.transactions[0].transferFee:0,i=N.a.sumBy(n,(function(t){return t.transferFee}));r!==i&&console.error("Amount of fees for do not match for ".concat(null===(e=t.transactions[0])||void 0===e?void 0:e.ticker,": ").concat(r," and ").concat(i));return n}));return e},vt=function(t,e){var a=0,n=[],r=t.filter((function(t){var a=t.type,n=t.symbol,r=t.date;return"BUY"===a&&n===e.symbol&&r<e.date}));if(N.a.orderBy(r,(function(t){return t.date}),"asc").forEach((function(t){var r=Math.min(e.amount,t.amount);if(0!==r){var i={ticker:e.symbol,buydate:t.date,selldate:e.date,amountsold:r,transferPrice:e.price,profitOrLoss:r*(e.price-t.price),acquisitionPrice:t.price,acquisitionFee:t.transactionFee,transferFee:e.transactionFee};n.push(i),t.amount-=r,e.amount-=r;var o=r*(e.price-t.price);a+=o}})),Math.round(e.amount)>0)throw Error("Amount of sales for ticker ".concat(e.symbol," exceeds the amount of buys by ").concat(e.amount,". In transaction made in ").concat(new Date(e.date).toLocaleString("en-GB",{timeZone:"UTC"})));return{capitalGainPerSellDate:a,transactions:n}},Ot=[X,$],xt=[Q,J],yt=function(t){var e=t.mode,a=Object(n.useState)(400),r=Object(S.a)(a,2),i=r[0],u=r[1],l=Object(n.useState)([]),d=Object(S.a)(l,2),p=d[0],O=d[1],x=Object(n.useState)(!1),y=Object(S.a)(x,2),C=y[0],E=y[1],P=Object(n.useState)([]),K=Object(S.a)(P,2),A=K[0],V=K[1],D=Object(n.useState)({}),W=Object(S.a)(D,2),L=W[0],Y=W[1],U=Object(n.useState)([]),M=Object(S.a)(U,2),R=M[0],z=M[1],H=Object(n.useState)(""),G=Object(S.a)(H,2),Q=G[0],J=G[1],X=Object(n.useState)(""),$=Object(S.a)(X,2),et=$[0],at=$[1],nt=Object(n.useState)(0),rt=Object(S.a)(nt,2),it=rt[0],ot=rt[1],ct=Object(h.a)({typography:{fontSize:14}});return Object(n.useEffect)((function(){Object(k.a)(w.a.mark((function t(){var a,n,r,i,o,c,s,l,d,b,m,j,f;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(p.length>0)){t.next=7;break}return t.next=3,q(p,"CRYPTO"===e?Ot:xt);case 3:n=t.sent,"Error"===(r=null===(a=n[0])||void 0===a?void 0:a.Source)?(i=n[0].Error.message,J("malformed URI sequence"===i?"Unable to parse file, is it encoded in a weird format?":n[0].Error.message)):"Coinbase"===r?(o=n.map((function(t){var e,a="".concat(t.Subtotal?Number(t.Subtotal).toFixed(2):(t.QuantityTransacted*t.SpotPriceatTransaction).toFixed(2)," ").concat(t.SpotPriceCurrency);return{paivays:new Date(t.Timestamp).toLocaleString("en-GB",{timeZone:"UTC"}),tuote:t.Asset,arvo:a,maara:t.QuantityTransacted,kulut:"".concat(Number(null!==(e=t.Fees)&&void 0!==e?e:0).toFixed(2)," ").concat(t.SpotPriceCurrency),kurssi:"".concat(t.SpotPriceatTransaction," ").concat(t.SpotPriceCurrency),kokonaissumma:"".concat(Number(t.Total?t.Total:0).toFixed(2)," ").concat(t.SpotPriceCurrency),operaatio:t.TransactionType}})),c=Object(g.a)({},L),Y(Object(g.a)(Object(g.a)({},L),{},{Coinbase:[].concat(Object(T.a)(null!==c&&void 0!==c&&c.Coinbase?c.Coinbase:[]),Object(T.a)(n))})),V(N.a.sortBy([].concat(Object(T.a)(A),Object(T.a)(o)),(function(t){return t.paivays}))),u(200),E(!0)):"CoinbasePro"===r?((s=n.find((function(t){return"Invalid currency detected"===(null===t||void 0===t?void 0:t.Error)})))&&J("".concat(s.Error," In trancactions made in ").concat(s.createdat.toLocaleString("en-GB",{timeZone:"UTC"}),".")),l=tt(n),d=Object(g.a)({},L),Y(Object(g.a)(Object(g.a)({},L),{},{CoinbasePro:[].concat(Object(T.a)(null!==d&&void 0!==d&&d.CoinbasePro?d.CoinbasePro:[]),Object(T.a)(n))})),V(N.a.sortBy([].concat(Object(T.a)(A),Object(T.a)(l)),(function(t){return t.paivays}))),u(200),E(!0)):"Nordnet"===r?(b=_(n),m=Object(g.a)({},L),Y(Object(g.a)(Object(g.a)({},L),{},{Nordnet:[].concat(Object(T.a)(null!==m&&void 0!==m&&m.Nordnet?m.Nordnet:[]),Object(T.a)(n))})),V(N.a.sortBy([].concat(Object(T.a)(A),Object(T.a)(b)),(function(t){return t.paivays}))),u(200),E(!0)):"Degiro"===r&&(j=Z(n),f=Object(g.a)({},L),Y(Object(g.a)(Object(g.a)({},L),{},{Degiro:[].concat(Object(T.a)(null!==f&&void 0!==f&&f.Nordnet?f.Nordnet:[]),Object(T.a)(n))})),V(N.a.sortBy([].concat(Object(T.a)(A),Object(T.a)(j)),(function(t){return t.paivays}))),u(200),E(!0)),O([]);case 7:case"end":return t.stop()}}),t)})))()}),[p]),Object(n.useEffect)((function(){console.log("rows parsed into rawdata",L)}),[L]),Object(j.jsxs)(v.a,{theme:ct,children:[Object(j.jsx)(c.a,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),Object(j.jsx)(o.a,{}),Object(j.jsxs)(s.a,{component:"main",sx:{pt:8,pb:4},children:[Object(j.jsxs)(m.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,width:"sm",children:[Object(j.jsx)(b.a,{component:"h1",variant:"h3",align:"center",color:"text.primary",gutterBottom:!0,sx:{fontWeight:"bold",pt:8},children:"VEROTUNKKI"}),Object(j.jsx)(b.a,{alignSelf:"center",align:"center",variant:"h6",sx:{pt:0},component:"p",children:"CRYPTO"===e?"Virtuaalivaluutat":"Arvopaperit"}),Q&&Object(j.jsx)(F.a,{severity:"error",children:Q}),Object(j.jsx)(B,{zoneHeight:i,handleFiles:function(t){return O([].concat(Object(T.a)(p),Object(T.a)(t)))}}),Object(j.jsx)(b.a,{alignSelf:"flex-start",sx:{pl:4},component:"p",children:"CRYPTO"===e?"Tuetut l\xe4hteet: Coinbase, Coinbase Pro":"Tuetut l\xe4hteet: Nordnet, Degiro"}),et&&Object(j.jsx)(F.a,{severity:"error",children:et}),C&&Object(j.jsxs)(m.a,{direction:"row",spacing:2,children:[Object(j.jsx)(I.a,{variant:"outlined",onClick:function(){O([]),V([]),Y({}),E(!1),u(400)},startIcon:Object(j.jsx)(mt.a,{}),children:"Poistha"}),Object(j.jsx)(I.a,{disabled:R.length>0,onClick:function(){var t=[];try{null!==L&&void 0!==L&&L.Coinbase&&t.push.apply(t,Object(T.a)(function(t){var e=[];return t.forEach((function(t){if("CONVERT"===t.TransactionType){var a=t.Notes.split(" "),n=Number(a[4]),r=a[5];e.push(Object(g.a)(Object(g.a)({},t),{},{TransactionType:"SELL",Fees:0,Total:t.Total-t.Fees})),e.push(Object(g.a)(Object(g.a)({},t),{},{TransactionType:"BUY",Asset:r,QuantityTransacted:n,SpotPriceatTransaction:t.Subtotal/n}))}else("COINBASE EARN"===t.TransactionType||"RECEIVE"===t.TransactionType)&&e.push(Object(g.a)(Object(g.a)({},t),{},{TransactionType:"BUY"}))})),t.concat(e).filter((function(t){return"BUY"===t.TransactionType||"SELL"===t.TransactionType})).map((function(t){var e;return{symbol:t.Asset,date:new Date(t.Timestamp),price:Number(t.SpotPriceatTransaction),amount:Number(t.QuantityTransacted),type:t.TransactionType,transactionFee:Number(null!==(e=t.Fees)&&void 0!==e?e:0)}}))}(L.Coinbase))),null!==L&&void 0!==L&&L.CoinbasePro&&t.push.apply(t,Object(T.a)(function(t){return t.filter((function(t){return"BUY"===t.side||"SELL"===t.side})).map((function(t){return{symbol:t.product,date:new Date(t.createdat),price:Number(t.price),amount:Number(t.size),type:t.side,transactionFee:Number(t.fee)}}))}(L.CoinbasePro))),null!==L&&void 0!==L&&L.Degiro&&t.push.apply(t,Object(T.a)(function(t){return t.map((function(t){return{symbol:t.security,date:t.datetime,price:t.rate,amount:t.quantity,type:t.quantity>0?"BUY":"SELL",transactionFee:Math.max(t.transactionCosts)}}))}(L.Degiro))),null!==L&&void 0!==L&&L.Nordnet&&t.push.apply(t,Object(T.a)(function(t){return t.filter((function(t){return"MYYNTI"===t.Tapahtumatyyppi||"OSTO"===t.Tapahtumatyyppi})).map((function(t){return{symbol:t.Arvopaperi,date:t.Kauppapaiva,price:t.Kurssi,amount:t.Maara,type:"OSTO"===t.Tapahtumatyyppi?"BUY":"SELL",transactionFee:t.Kokonaiskulut}}))}(L.Nordnet))),console.log(t.filter((function(t){return"LINK"===t.symbol})));var e=ht(t);z(N.a.sortBy(e,(function(t){return t.selldate})).map((function(t){return Object(g.a)(Object(g.a)({},t),{},{buydate:new Date(t.buydate).toISOString().substring(0,16),selldate:new Date(t.selldate).toISOString().substring(0,16),transferFee:"".concat(Number(t.transferFee).toFixed(4)," EUR"),profitOrLoss:"".concat(t.profitOrLoss.toFixed(3)," EUR")})}))),ot(N.a.sumBy(e,(function(t){return t.profitOrLoss})))}catch(a){at(a.message)}},variant:"contained",endIcon:Object(j.jsx)(ft.a,{}),children:"Laske"})]}),C&&0===R.length&&Object(j.jsx)(pt,{mode:e,rows:A}),R.length>0&&Object(j.jsxs)("div",{children:[Object(j.jsx)(pt,{mode:"RESULT",rows:R}),Object(j.jsxs)("p",{children:["Net Capital Gain: ",it.toFixed(2)," EUR"]})]})]}),Object(j.jsx)(f,{})]})]})};i.a.render(Object(j.jsx)(y.a,{basename:"",children:Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/",element:Object(j.jsx)(x,{})}),Object(j.jsx)(u.a,{path:"securities",element:Object(j.jsx)(yt,{mode:"SECURITY"})}),Object(j.jsx)(u.a,{path:"crypto",element:Object(j.jsx)(yt,{mode:"CRYPTO"})})]})}),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.325b17ae.chunk.js.map